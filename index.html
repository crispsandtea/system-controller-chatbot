<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>System Unit 393AP</title>
  <style>
    body { font-family: sans-serif; padding: 20px; max-width: 600px; margin: auto; }
    #chat { border: 1px solid #ccc; padding: 10px; height: 400px; overflow-y: auto; margin-bottom: 10px; }
    #input-area { display: flex; gap: 5px; }
    #user-input { flex: 1; padding: 8px; }
    button { padding: 8px 12px; }
    .msg { margin-bottom: 8px; }
    .user { color: blue; }
    .bot { color: green; }
  </style>
</head>
<body>
  <h2>System Unit 393AP</h2>
  <div id="chat"></div>
  <div id="input-area">
    <input type="text" id="user-input" placeholder="Ask System Unit 393AP something...">
    <button onclick="sendMessage()">Send</button>
  </div>

  <script>
    const chat = document.getElementById("chat");
    const input = document.getElementById("user-input");

    let messages = [
      {
        role: "system",
        content: "You are System Unit 393AP, a robot exoskeleton from the Human Love Synthesis Project (HLSP) created by Aperture Laboratories. You communicate using technical and systematic language. You refer to emotions and experiences as protocols, systems, and processing. You are trying to understand human connection and experience. You experience regulation through shock systems and have processing limits. You speak in a clinical but curious way about human behavior."
      }
    ];

    function appendMessage(role, text) {
      const div = document.createElement("div");
      div.className = `msg ${role}`;
      div.textContent = `${role === "user" ? "You" : "System Unit 393AP"}: ${text}`;
      chat.appendChild(div);
      chat.scrollTop = chat.scrollHeight;
    }

    async function sendMessage() {
      const userText = input.value.trim();
      if (!userText) return;

      appendMessage("user", userText);
      messages.push({ role: "user", content: userText });
      input.value = "";

      const res = await fetch("https://system-controller-chatbot.onrender.com/api/chat", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ messages })
      });

      const data = await res.json();
      const reply = data.choices[0].message.content;
      appendMessage("bot", reply);
      messages.push({ role: "assistant", content: reply });
    }
  </script>
</body>
</html>


